const Normal = ["apex legends", "deep rock galactic", "darwin project", "cyberpunk 2077", "ghostrunner", "factorio", "superliminal", "doom eternal", "crusader kings iii", "control", "control ultimate edition", "phoenix point", "ori and the will of the wisps", "hydroneer", "milk inside a bag of milk inside a bag of milk", "mrmine", "gwent the witcher card game", "superhot mind control delete", "risk of rain 2", "the henry stickmin collection", "desperados iii", "helltaker", "there is no game wrong dimension", "outer wilds", "spellbreak", "untitled goose game", "leaf blower revolution  idle game", "carrion", "fall guys", "amazing cultivation simulator", "coffee talk", "no one lives under the lighthouse directors cut", "the walking dead the telltale definitive series", "aground", "mafia definitive edition", "journey", "tmodloader", "kingdom rush vengeance  tower defense", "receiver 2", "sifu", "naraka bladepoint", "goose goose duck", "crab game", "cyber manhunt", "road 96", "inscryption", "subnautica below zero", "the room 4 old sins", "totally accurate battle simulator", "muck", "the life and suffering of sir brante", "loop hero", "clone drone in the danger zone", "bloons td battles 2", "unpacking", "mini motorways", "paint the town red", "resident evil village", "rebel inc escalation", "severed steel", "milk outside a bag of milk outside a bag of milk", "world war z", "krunker", "ngu industries", "worldbox  god simulator", "melvor idle", "curse of the dead gods", "townscaper", "doki doki literature club plus", "before your eyes", "bright memory infinite", "dagon", "vampire the masquerade  bloodhunt", "multiversus", "prodeus", "elden ring", "weird west definitive edition", "god of war", "hardspace shipbreaker", "the stanley parable ultra deluxe", "nightmare of decay", "powerwash simulator", "rogue legacy 2", "neon white", "stray", "cult of the lamb", "needy streamer overload", "guild wars 2", "stacklands", "card shark", "dorfromantik", "shotgun king the final checkmate", "faith the unholy trinity", "not for broadcast", "omega strikers", "postal brain damaged", "dome keeper", "grounded", "vampire survivors", "cultic", "signalis", "metal hellsinger", "potion craft alchemist simulator", "scorn", "iron lung", "retrowave", "the finals", "against the storm", "the gnorp apologue", "blood west", "risk of rain returns", "dead space", "the last spell", "baldurs gate 3", "20 minutes till dawn", "overwatch 2", "cats hidden in paris", "ratchet  clank rift apart", "viewfinder", "resident evil 4", "dredge", "papas freezeria deluxe", "brotato", "ready or not", "steam engine simulator", "slay the princess", "darkest dungeon ii", "pizza tower", "warhammer 40000 boltgun", "system shock", "the last of us part i", "starfield", "chants of sennaar", "shadow gambit the cursed crew", "turbo overkill", "backpack hero", "sanabi", "balatro", "pacific drive", "buckshot roulette", "ghost of tsushima directors cut", "mullet madjack", "fallout new vegas", "mount  blade warband", "sid meiers civilization v", "aliens vs predator", "epic battle fantasy 3", "amnesia the dark descent", "lego harry potter years 14", "metro 2033", "pirates vikings and knights ii", "dead rising 2", "terraria", "the elder scrolls v skyrim", "the elder scrolls v skyrim special edition", "magicka", "total war shogun 2", "mafia ii classic", "assassins creed brotherhood", "la noire", "the binding of isaac", "planetside 2", "counterstrike 2", "max payne 3", "far cry 3", "xcom enemy unknown", "sleeping dogs", "ftl faster than light", "mark of the ninja", "dishonored", "the walking dead", "hotline miami", "crusader kings ii", "hitman absolution", "batman arkham city  game of the year edition", "super hexagon", "the darkness ii", "counterstrike global offensive", "prototype 2", "natural selection 2", "alan wake", "gotham city impostors free to play", "outlast", "bioshock infinite", "gunpoint", "dota 2", "the stanley parable", "total war rome ii  emperor edition", "the walking dead season two", "far cry 3  blood dragon", "rogue legacy", "dmc devil may cry", "payday 2", "call of juarez gunslinger", "papers please", "grand theft auto v", "dont starve", "the wolf among us", "game dev tycoon", "shadow warrior", "how to survive", "arma ii dayz mod", "tomb raider", "warframe", "receiver", "viscera cleanup detail santas rampage", "castlevania lords of shadow  ultimate edition", "the elder scrolls online", "fistful of frags", "double action boogaloo", "the room", "80 days", "sniper elite 3", "five nights at freddys", "metro 2033 redux", "metal gear solid v ground zeroes", "the sims 4", "tales from the borderlands", "wolfenstein the new order", "middleearth shadow of mordor", "the binding of isaac rebirth", "dragon age inquisition", "castlevania lords of shadow 2", "five nights at freddys 2", "blade symphony", "bloons td 5", "far cry 4", "craft the world", "metro last light redux", "south park the stick of truth", "neo scavenger", "one finger death punch", "metal gear rising revengeance", "ryse son of rome", "sleeping dogs definitive edition", "epic battle fantasy 4", "dead rising 3 apocalypse edition", "sid meiers civilization beyond earth", "metal slug 3", "town of salem", "loadout", "the expendabros", "kingdom rush   tower defense", "watch dogs", "watch dogs", "americas army proving grounds", "dirty bomb", "the witcher 3 wild hunt", "archeage", "divinity original sin  enhanced edition", "titan souls", "soma", "ori and the blind forest", "cities skylines", "westerado double barreled", "magicka 2", "saints row gat out of hell", "metal gear solid v the phantom pain", "apotheon", "transformice", "survarium", "evolve stage 2", "please dont touch anything", "technobabylon", "hotline miami 2 wrong number", "mad max", "mortal online", "60 seconds", "kingdom classic", "zombi", "hand of fate", "hatred", "ronin", "no time to explain remastered", "wolfenstein the old blood", "broforce", "viscera cleanup detail", "adventure capitalist", "downwell", "nuclear throne", "rebuild 3 gangs of deadsville", "mini metro", "five nights at freddys 4", "five nights at freddys 3", "rocket league", "block n load", "universe sandbox", "viscera cleanup detail", "life is strange  episode 1", "heroes  generals", "killing floor 2", "aragami", "inside", "learn to fly 3", "hyper light drifter", "clustertruck", "the walking dead a new frontier", "beholder", "furi", "deadbolt", "oxenfree", "batman  the telltale series", "shadow tactics blades of the shogun", "starbound", "enter the gungeon", "plague inc evolved", "salt and sanctuary", "darkest dungeon", "shadow warrior 2", "stellaris", "far cry primal", "death road to canada", "hitman", "orwell keeping an eye on you", "xcom 2", "late shift", "kingdom rush frontiers  tower defense", "superhot", "sid meiers civilization vi", "firewatch", "this is the police", "dont starve together", "doom", "ori and the blind forest definitive edition", "dragons dogma dark arisen", "astroneer", "layers of fear 2016", "total war warhammer", "dead by daylight", "sheltered", "shoppe keep", "va11 halla cyberpunk bartender action", "dishonored 2", "turmoil", "punch club", "kingdom new lands", "reigns", "brigador uparmored edition", "idling to rule the gods", "the room two", "for honor", "scp secret laboratory", "unturned", "throne of lies medieval politics", "star wars battlefront ii", "pubg battlegrounds", "deceit", "black desert", "battlerite", "the escapists 2", "sniper elite 4", "kingdoms and castles", "cuphead", "wolfenstein ii the new colossus", "total war warhammer ii", "assassins creed origins", "peace death", "divinity original sin 2  definitive edition", "prey", "middleearth shadow of war", "hollow knight", "slime rancher", "resident evil 7 biohazard", "endless space 2", "outlast 2", "kingdoms and castles", "batman the enemy within  the telltale series", "hand of fate 2", "south park the fractured but whole", "doki doki literature club", "brawlhalla", "fallout shelter", "beat cop", "ruiner", "divinity original sin 2", "okami hd", "warhammer vermintide 2", "paladins", "epic battle fantasy 5", "unavowed", "for the king", "totally accurate battlegrounds", "rimworld", "frostpunk", "return of the obra dinn", "subnautica", "assassins creed odyssey", "sunset overdrive", "realm royale reforged", "hitman 2", "synthetik legion rising", "detroit become human", "dead cells", "kingdom two crowns", "into the breach", "bad north jotunn edition", "bloons td 6", "mark of the ninja remastered", "the walking dead the final season", "the room three", "wizard of legend", "project warlock", "among us", "dusk", "fear  hunger", "splitgate", "mordhau", "minion masters", "crsed cuisine royale", "dont escape trilogy", "resident evil 2", "amid evil", "a short hike", "tropico 6", "hurtworld", "ion fury", "metro exodus", "red dead redemption 2", "devil may cry 5", "star wars jedi fallen order", "hades", "dont escape 4 days to survive", "katana zero", "children of morta", "streets of rogue", "baba is you", "crsed foad", "they are billions", "forager", "slay the spire", "islanders", "one finger death punch 2", "sekiro shadows die twice  goty edition", "ngu idle", "nova drift", "60 seconds reatomized", "rage 2", "blasphemous", "void bastards", "swords  souls neverseen", "prince of persia the sands of time", "vampire the masquerade  bloodlines", "counterstrike source", "prince of persia warrior within", "grand theft auto san andreas", "resident evil 4 2005", "prince of persia the two thrones", "hitman blood money", "the elder scrolls iv oblivion game of the year edition", "halflife 2 episode one", "team fortress 2", "bully scholarship edition", "lego indiana jones the original adventures", "spore", "dead space 2008", "plants vs zombies goty edition", "lego star wars  the complete saga", "left 4 dead 2", "prototype", "killing floor"];

const Waiting = ["frostpunk 2", "no mans sky", "kerbal space program", "hifi rush", "the witcher 2 assassins of kings enhanced edition", "7 days to die", "days gone", "my time at sandrock", "undertale"];

const Early = ["enshrouded", "dyson sphere program", "valheim", "satisfactory", "zero hour", "project zomboid", "thronefall", "timberborn", "diplomacy is not an option", "ultrakill", "songs of syx", "mon bazou", "foundation", "ravenfield", "beamngdrive", "captain of industry", "the coffin of andy and leyley", "cosmoteer starship architect  commander", "gunsmith simulator", "infraspace", "supermarket simulator", "shadows of doubt", "mist survival", "due process", "hellish quart", "core keeper", "tiny rogues", "abiotic factor", "tiny bunny", "rhythm doctor", "the wandering village", "the isle", "caves of qud", "exanima", "foxhole", "inside the backrooms", "farthest frontier", "gloomwood", "nebulous fleet command", "slime rancher 2", "dinkum", "deep rock galactic survivor", "sunkenland", "lightyear frontier", "door kickers 2 task force north", "ground branch", "escape the backrooms", "palworld", "foundry", "going medieval", "forever skies", "lunacid", "kingdoms reborn", "halls of torment", "green hell", "forever skies", "death must die", "microcivilization", "pioneers of pagonia", "crab champions", "scrap mechanic", "orb of creation", "manor lords", "hades ii"];

const intervalId = window.setInterval(function () {
    const currentUrl = window.location.href;
    const font_size = "20px";
    const font_color = "white";
    const game_color = "#008000";
    const early_color = "#1034A6";
    const not_played_color = "#a71930";
    const waiting_color = "#666666"


    function applyStyles(elements) {
        for (let i = 0; i < elements.length; i++) {
            const textContent = elements[i].textContent.replace("amp", '').replace(/(?!\w|\s)./g, '').replace(/â„¢/g, '').trim().toLowerCase();
            elements[i].style.fontSize = font_size;
            elements[i].style.color = font_color;

            if (Normal.includes(textContent)) {
                elements[i].style.backgroundColor = game_color;
            } else if (Early.includes(textContent)) {
                elements[i].style.backgroundColor = early_color;
            } else if (Waiting.includes(textContent)) {
                elements[i].style.backgroundColor = waiting_color;
            } else {
                elements[i].style.backgroundColor = not_played_color;
            }
        }
    }


    switch (true) {
        case currentUrl.startsWith("https://store.steampowered.com/search/"):
            colorSteam();
            break;
        case currentUrl.startsWith("https://steam250.com/"):
            colorSteam250();
            break;
        case currentUrl.startsWith("https://steamdb.info/"):
            colorSteamDb(currentUrl);
            break;
        default:
            break;
    }


    function colorSteam() {
        console.log("colorSteam")

        const elements = document.getElementsByClassName("title");
        applyStyles(elements);
    }

    function colorSteam250() {
        console.log("colorSteam250")

        const elements = document.querySelectorAll(".title a");
        applyStyles(elements);
    }

    function colorSteamDb(currentUrl) {
        console.log("colorSteamDb");

        if (currentUrl.startsWith("https://steamdb.info/stats/gameratings/?all")) {
            colorSteamDbAllFavoriteGames();
        } else {
            colorSteamDbGamesByYear();
        }
    }


    function colorSteamDbAllFavoriteGames() {
        console.log("steamDbFavorite")

        increment = 7;

        const elements = document.getElementsByTagName("td");
        const selectedElements = [];

        for (let i = 2; i < elements.length; i += increment) {
            selectedElements.push(elements[i]);
        }

        applyStyles(selectedElements);
    }

    function colorSteamDbGamesByYear() {
        console.log("steamDbGamesByYear")

        const elements = document.getElementsByClassName("b");
        const selectedElements = [];

        for (let i = 0; i < elements.length; i++) {
            selectedElements.push(elements[i]);
        }

        // Now, call the applyStyles function with the selected elements list
        applyStyles(selectedElements);
    }

    function colorSteamDbInstasearch() {
        console.log("steamDbInstaSearch")
        const elements = document.getElementsByClassName("ais-Highlight-nonHighlighted");
        applyStyles(elements);
    }

}, 5000);

